@model EPiServer.Reference.Commerce.Site.Features.Shared.Models.AddressModel

<ul>
    @{
        string[] addressValues = null;
        System.Text.RegularExpressions.Regex email = EPiServer.Framework.Validator.EmailRegex;

        switch (Model.CountryCode)
        {
            case "AUS":
            case "CAN":
            case "USA":
                addressValues = new string[] { Model.Email, string.Format("{0},{1}", Model.City, Model.CountryName) };
                break;

            case "GBR":
                addressValues = new string[] { Model.Email, string.Format("{0},{1}", Model.City, Model.CountryName) };
                break;

            default:
                addressValues = new string[] { Model.Email, string.Format("{0},{1}", Model.City, Model.CountryName) };
                break;
        }

        foreach (string value in addressValues)
        {
            <li>
                @if (!string.IsNullOrEmpty(value))
                {
                    if (email.IsMatch(value))
                    {
                        <a href="mailto:@value">@value</a>
                    }
                    else
                    {
                        <span>@value</span><br />
                    }
                }
            </li>
        }
    }

</ul>
